
@{
    ViewBag.Title = "CheckOut";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



@using Model.Entities
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Check Out Shopping Cart</h2>
@{ if (Session["Cart"] != null)
    {



        using (Html.BeginForm("UpdateCart", "ShoppingCart", FormMethod.Post))
        {
            <table class="table" border="1">
                <tr>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Sub Total</th>

                </tr>
                @foreach (var cart in (List<Cart>)Session["Cart"])
                {
                    <tr>
                        <td>@cart.Product.Name</td>
                        <td>@cart.Product.Price</td>
                        <td>
                            <input type="number" name="quantity" id="quantity" value="@cart.Quantity" />
                        </td>
                        <td>@String.Format("{0:N0}", cart.Product.Price * cart.Quantity)</td>
                    </tr>
                }
                <tr>
                    <td colspan="3">Total</td>
                    <td>
                        @{
                            List<Cart> temp = (List<Cart>)Session["Cart"];
                            var total = String.Format("{0:N0}", temp.Sum(x => x.Quantity * x.Product.Price));
                        }
                        @total Zł
                    </td>
                </tr>
            </table>
            <br />


        }
    }
    else
    {
        <h4>No items in your Shopping Cart</h4>
    }

}
@using (Html.BeginForm("ProcessOrder", "ShoppingCart", FormMethod.Post, new { id = "customer-form" }))
{
    <table class="table">
        <tr>
            <td>Customer's information</td>
        </tr>
        <tr>
            <td>Customer Name</td>
            <td>
                <input type="text" name="cusName" required/>
            </td>
        </tr>
        <tr>
            <td>Customer Phone</td>
            <td>
                <input type="text" name="cusPhone" required/>
            </td>
        </tr>
        <tr>
            <td>Customer Email</td>
            <td>
                <input type="text" name="cusEmail" required/>
            </td>
        </tr>
        <tr>
            <td>Customer Address</td>
            <td>
                <input type="text" name="cusAddress" required/>
            </td>
        </tr>
        <tr>
            <td colspan="3">
                <input type="submit" value="Process Order" />
            </td>
        </tr>
    </table>
}

